<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8">
	<title>Login Form</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
	<style>
		@import url('https://fonts.googleapis.com/css?family=Poppins&display=swap');

		* {
			margin: 0;
			padding: 0;
			font-family: 'Poppins', sans-serif;
		}

		body {
			display: flex;
			height: 100vh;
			text-align: center;
			align-items: center;
			justify-content: center;
			background: #f0f0f0; /* Changed background color */
		}

		.login-form {
			position: relative;
			width: 370px;
			height: auto;
			padding: 40px 35px 60px;
			box-sizing: border-box;
			border: 1px solid black;
			border-radius: 5px;
			box-shadow: inset 0 0 1px #272727;
			background: #151515; /* Added background color to form */
		}

		.text {
			font-size: 30px;
			color: white;
			font-weight: 600;
			letter-spacing: 2px;
		}

		form {
			margin-top: 40px;
		}

		form .field {
			margin-top: 20px;
			display: flex;
		}

		.field .fas {
			height: 50px;
			width: 60px;
			color: #868686;
			font-size: 20px;
			line-height: 50px;
			border: 1px solid #444;
			border-right: none;
			border-radius: 5px 0 0 5px;
			background: linear-gradient(#333, #222);
		}

		.field input,
		form button {
			height: 50px;
			width: 100%;
			outline: none;
			font-size: 19px;
			color: #868686;
			padding: 0 15px;
			border-radius: 0 5px 5px 0;
			border: 1px solid #444;
			caret-color: #339933;
			background: linear-gradient(#333, #222);
		}

		input:focus {
			color: #339933;
			box-shadow: 0 0 5px rgba(0, 255, 0, .2), inset 0 0 5px rgba(0, 255, 0, .1);
			background: linear-gradient(#333933, #222922);
			animation: glow .8s ease-out infinite alternate;
		}

		@keyframes glow {
			0% {
				border-color: #339933;
				box-shadow: 0 0 5px rgba(0, 255, 0, .2), inset 0 0 5px rgba(0, 0, 0, .1);
			}

			100% {
				border-color: #6f6;
				box-shadow: 0 0 20px rgba(0, 255, 0, .6), inset 0 0 10px rgba(0, 255, 0, .4);
			}
		}

		button {
			margin-top: 30px;
			border-radius: 5px !important;
			font-weight: 600;
			letter-spacing: 1px;
			cursor: pointer;
		}

		button:hover {
			color: #339933;
			border: 1px solid #339933;
			box-shadow: 0 0 5px rgba(0, 255, 0, .3), 0 0 10px rgba(0, 255, 0, .2), 0 0 15px rgba(0, 255, 0, .1), 0 2px 0 black;
		}

		.link {
			margin-top: 25px;
			color: red;
		}

		.link a {
			color: white;
			text-decoration: none;
		}

		.link a:hover {
			text-decoration: underline;
		}

		html,
		body {
			height: 100%;
			margin: 0;
			padding: 0;
		}

		#bg-wrap {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		svg {
			width: 100%;
			height: 100%;
		}
	</style>

	<script>
		function validateForm() {
			var logID = document.forms["myForm"]["logID"].value;
			var idPattern = /^[0-9]{10}$/;

			if (!idPattern.test(logID)) {
				alert("Enter 10 digits University ID");
				return false;
			}
			return true;
		}

		function noBack() {
			if (window.performance && window.performance.navigation.type === 2) {
				// 2 is the value for TYPE_BACK_FORWARD navigation
				alert("You cannot navigate back to this page.");
				window.location.replace("Error.html");
			}
		}

		window.onload = noBack;
	</script>

	<th:block th:if="${successMessage}">
		<script th:inline="javascript">
			/*<![CDATA[*/
			window.onload = function () {
				alert(/*[[${successMessage}]]*/ '');
			};
			/*]]>*/
		</script>
	</th:block>
</head>

<body onload="noBack();" onunload="">
	<!-- Removed the background SVG for a plain background -->
	<div class="login-form">
		<div class="text">
			LOGIN
		</div>
		<form onsubmit="return validateForm()" method="post" action="/user">
			<div class="field">
				<div class="fas fa-user"></div>
				<input type="text" name="id" placeholder="User ID" required pattern="[0-9]{4}|[0-9]{10}" title="Please enter 4 or 10 digits ID">
			</div>
			<div class="field">
				<div class="fas fa-lock"></div>
				<input type="password" name="password" placeholder="Password" required>
			</div>
			<button>LOGIN</button>
			<div class="link">
				Not a member?
				<a href="/register">Signup now</a>
			</div>
		</form>
	</div>
</body>

</html>
